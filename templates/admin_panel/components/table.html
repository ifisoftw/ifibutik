{% comment %}
Reusable responsive table shell.
Parameters:
- title / description / actions: optional header content
- head_template: path to template that renders <thead>
- body_template: path to template that renders <tbody>
- headers: list of dictionaries [{ label: '', align: 'left'|'center'|'right' }]
- rows: iterable, used when body_template omitted
- empty_message: fallback text
- footer: optional footer HTML
{% endcomment %}
{% with wrapper_class=wrapper_class|default:"bg-white border border-gray-200 rounded-2xl shadow-sm" %}
<div class="{{ wrapper_class }}">
    {% if title or description or actions %}
    <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 px-4 py-4 border-b border-gray-100">
        <div>
            {% if title %}
            <h3 class="text-base font-semibold text-gray-900">{{ title }}</h3>
            {% endif %}
            {% if description %}
            <p class="text-sm text-gray-500 mt-1">{{ description }}</p>
            {% endif %}
        </div>
        {% if actions %}
        <div class="flex items-center gap-2">
            {{ actions|safe }}
        </div>
        {% endif %}
    </div>
    {% endif %}

    <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-100 {{ table_class }}">
            {% if head_template %}
                {% include head_template %}
            {% elif headers %}
                <thead class="bg-gray-50 text-[11px] font-semibold uppercase tracking-wide text-gray-500">
                    <tr>
                        {% for header in headers %}
                        <th class="px-4 py-3 text-{{ header.align|default:'left' }}">{{ header.label }}</th>
                        {% endfor %}
                    </tr>
                </thead>
            {% endif %}

            {% if is_empty %}
                <tbody>
                    <tr>
                        <td colspan="{{ headers|length|default:1 }}" class="px-4 py-12 text-center text-sm text-gray-500">
                            {{ empty_message|default:'Kay覺t bulunamad覺.' }}
                        </td>
                    </tr>
                </tbody>
            {% elif body_template %}
                {% include body_template %}
            {% elif rows %}
                <tbody class="divide-y divide-gray-100 text-sm text-gray-700">
                    {% for row in rows %}
                    <tr class="hover:bg-gray-50 transition">
                        {% for cell in row %}
                        <td class="px-4 py-3">{{ cell }}</td>
                        {% endfor %}
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="{{ headers|length|default:1 }}" class="px-4 py-12 text-center text-sm text-gray-500">
                            {{ empty_message|default:'Kay覺t bulunamad覺.' }}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            {% endif %}
        </table>
    </div>

    {% if footer %}
    <div class="px-4 py-4 border-t border-gray-100 text-sm text-gray-600">
        {{ footer|safe }}
    </div>
    {% endif %}
</div>
{% endwith %}

